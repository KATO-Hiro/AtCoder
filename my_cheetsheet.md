# 問題を解くときの切り口

## 全般

### 問題文から得られる情報

+ 情報量が多すぎる
  + 図として書いてみる．

+ 得られた規則性・法則性を数式として表現できないか?
  + 前段階として，ノートなどに書き出してシミュレーションしてみる

+ シミュレーションするときには，数が増えた場合や境界付近がどうなるかを愚直に確認する．

+ 複数の操作を独立として扱えないか?

### 方針

+ 提出した解法の大部分がWA
  + 反例がないかを列挙する．

### 計算量の削減

+ 思いついた解法がTLEしてしまう
  + 愚直解（全探索）で，**同じ（ような）計算を複数回**していないか?

  + 回答に直接つながる部分を計算する前に，共通部分を事前に処理できないか?
    + 連続する区間の和→前処理で累積和を取る．各クエリはO(1)で計算できる．

  + 重複したデータ・操作をまとめられないか?
    + 標準的な形に変形できないか?
    + 制約が小さいことを利用して，視点を変えることはできないか?
      + 例：区間（1次元）を座標（2次元）に置き換える．

+ 考慮すべき条件が複数あるように思える
  + 点や軸などの条件を**1つに固定**して，その他の条件を変えることはできるか?

  + 着目する範囲を限定できないか?（計算・考察しなくても済む部分はないか?）

  + 最終的な状態にだけ着目して，途中経過をスキップできないか?

  + 条件を整理して，操作の順番に依存しない部分/依存する部分をまとめられないか?

  + 制約条件の厳しいほうから見たときに，着目すべき項目を減らせないか?

### コーナーケースの特定

+ 考察の段階でシンプルにできるところはないか?
  + 個別のコーナーケースを場当たり的にif文で処理していないか?

+ 愚直に実装した場合と比較してみたか?

+ 条件を満たさない場合を早い段階で打ち切っているか?

+ サンプルをフル活用

+ 制約条件に含まれる境界値から，回答の条件を満たさないケースを列挙

+ 極端な条件が揃ったときを書き出してみる

## 整数

### 数値

+ 桁を一つ増やす→10 * i + jと考えると計算しやすい

+ 整数Nが9の倍数 = Nを10進法で表したときの各桁の和が9の倍数

+ 切り上げ: (x - 1) / x

### 数直線

+ 対称性が利用できないか?
  + 0以上の領域だけを考えることで、符号の扱いが簡単になる可能性がある

+ 残りの移動回数で偶奇が変わるかどうか?

### 数列

+ 並び順が結果に影響しないときは，ソート済みとして考えられないか?

+ 「書き換える」という操作を別の視点（集合全体から選択）からみてみることはできないか?

+ 対象データについて，操作の前後を区別せずに一つの集合として考えられないか?

+ 環状のままだと対処しづらいため，規則性・法則性を保持したまま，直線として扱えないか?

+ 左右から確認したときに，交差することを許容するかどうか?

+ 値の並びに周期性はないか? 周期性がある場合は，N周期+余りの形に分解できないか?

+ 後ろから見る，指定された操作をするとどうか?

### 最大公約数

+ 各項がkの倍数のとき、その合計もkの倍数

+ 数列において，整数同士の差を取り合うような状況にある
  + ユークリッドの互除法のような考え方が適用できないか?

+ x, yが互いに素であることと，x, yの最大公約数が1であることは同値

+ x, yの公約数は，gcd(x, y)の公約数．
  + 二次元平面上に展開すると理解しやすい(See: [https://www.youtube.com/watch?v=l4pTJy13sbM:title])

### Mod

+ kの倍数→mod k = 0になる．

+ (b - a) mod k = 0のとき、a mod k = b mod kが成り立つ．

### 三角関数

+ 1° = π / 180 (rad)

+ 余弦定理

```md
c ** 2 = (a ** 2) + (b ** 2) - 2 * a * b * cos(x)
```

#### See

https://sci-pursuit.com/math/radian.html

## グリッド

+ 片方の軸にだけ注目するとどうなるか?

+ それぞれの軸は，独立として扱えないか?

+ 「経路が重複しない」を「始点と終点を除いた，すべての格子点が重ならない」と言い換えることはできないか?

+ 最短経路は，始点から終点に向けて，右方向と上方向への移動で達成できそうか?

+ 始点のとり方を工夫できないか?

## グラフ

+ さまざまなグラフの種類（完全グラフ，スターなど）の存在を知る

## ゲーム

+ 決着がついた状態から，最初の状態に戻っていく．

+ 最適に行動する=相手がどんな行動をとったとしても，自分が勝てるように行動する

+ 変数が多いときはN = 2の例で実験する．

## 構築系問題に対するアプローチ

+ 条件を満たす上限値・下限値を列挙できないか? また，求めた上限値・下限値から，目標とする値に近づけることはできないか?

+ 最後の状態から最初の状態に戻すとどのように変化していくか?

+ 規則的な動きをすると、どうなるか?

## 辞書順最小

+ 先頭の要素から順に見て，見ている要素をできるだけ小さくする，ことを貪欲に行えないか?

## 実装における注意事項

+ 無限ループが発生していないか?

+ N個の配列の両端に要素（0番目とN + 1番目）があると仮定できないか?

+ 標準ライブラリで，便利なデータ構造や関数がないか?

### データ構造

+ データの追加と最大値を取り出す操作を高速に行いたいときは，優先度付きキューを使う

## その他

+ 順位表から得られる情報もうまく活用する．

## 今後の予定

+ 知見の蓄積

+ 類型化した結果を図で表現

## 参考

> https://github.com/hamko/procon/blob/master/typical.png
